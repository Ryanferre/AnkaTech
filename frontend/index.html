<!DOCTYPE html>
    <html lang="pt-BR">
    <head>
      <meta charset="UTF-8">
      <title>Cadastro</title>
    </head>
    <body>
      <h2>Cadastro de Usuário</h2>
      <form id="formCadastro">
        <label>Nome: <input name="firstname" /></label><br/>
        <label>Sobrenome: <input name="lastname" /></label><br/>
        <label>Email: <input name="email" type="email" /></label><br/>
        <button type="submit">Cadastrar</button>
      </form>
      <p id="mensagem"></p>

      <script>
        const form = document.getElementById('formCadastro');
        const msg = document.getElementById('mensagem');

        form.addEventListener('submit', async (e) => {
          e.preventDefault();
          const formData = new FormData(form);
          const data = {
            firstname: formData.get('firstname'),
            lastname: formData.get('lastname'),
            email: formData.get('email')
          };

          try {
            const res = await fetch('http://localhost:3000/cadastro', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json'
              },
              body: JSON.stringify(data)
            });

            if (!res.ok) {
              throw new Error('Erro ao cadastrar');
            }

            const result = await res.json();
            msg.textContent = 'Usuário cadastrado com sucesso: ' + JSON.stringify(result);
          } catch (err) {
            msg.textContent = 'Erro: ' + err.message;
          }
        });
      </script>
    </body>
    </html>